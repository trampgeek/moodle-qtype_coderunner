/******************************************************************************
 *
 * This module simply handles changes in the Language selection dropdown for
 * multilanguage questions as seen by students. It switches the Ace language
 * accordingly.
 * It should only be loaded in conjunction with the ui_ace module.
 *
 * @module qtype_coderunner/multilanguagequestion
 * @copyright  Richard Lobb, 2018, The University of Canterbury
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *
 */
define("qtype_coderunner/multilanguagequestion",["jquery","core/str"],(function($,str){let NO_LANGUAGE_MESSAGE="";return{initLangSelector:function(taId){$().ready((function(){!function(taId){const ta=$(document.getElementById(taId)),langSelectorId=taId.replace("answer","language"),selector=document.getElementById(langSelectorId),uiWrapperId=taId+"_wrapper";function hasAncestorWithId(element,id){for(;element;){if(element.id===id)return!0;element=element.parentElement}return!1}function setAceLang(){const lang=selector.value,uiWrapper=ta[0].current_ui_wrapper;uiWrapper&&uiWrapper.uiInstance&&"function"==typeof uiWrapper.uiInstance.setLanguage&&uiWrapper.uiInstance.setLanguage(lang)}selector.onchange=setAceLang,document.body.onkeydown=function(event){event.target&&hasAncestorWithId(event.target,uiWrapperId)&&""===selector.value&&NO_LANGUAGE_MESSAGE&&(alert(NO_LANGUAGE_MESSAGE),event.preventDefault())}}(taId)}));const promise=str.get_string("nolanguage","qtype_coderunner");$.when(promise).done((function(message){NO_LANGUAGE_MESSAGE=message}))}}}));

//# sourceMappingURL=multilanguagequestion.min.js.map